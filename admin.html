<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Product Approval</title>
  <link rel="stylesheet" href="home/homestyle.css">
  <style>
    .pending-list { margin: 2em; }
    .pending-card { border: 1px solid #ccc; padding: 1em; margin-bottom: 1em; }
    .approve-btn { background: #4caf50; color: #fff; border: none; padding: 0.5em 1em; cursor: pointer; }
  </style>
</head>
<body>
  <header>
    <h1>Admin - Pending Product Approvals</h1>
  </header>
  <main>
    <div class="pending-list" id="pending-list">
      <!-- Pending products will be loaded here -->
    </div>
  </main>
  <script>
    async function loadPending() {
      const res = await fetch('/admin/pending-products');
      const products = await res.json();
      const list = document.getElementById('pending-list');
      list.innerHTML = '';
      products.forEach(prod => {
        const div = document.createElement('div');
        div.className = 'pending-card';
        div.innerHTML = \`
          <strong>\${prod.name}</strong> - R\${prod.price}<br>
          <img src="\${prod.image}" alt="\${prod.name}" style="max-width:100px;"><br>
          <button class="approve-btn" onclick="approve(\${prod.id})">Approve</button>
        \`;
        list.appendChild(div);
      });
    }
    async function approve(id) {
      await fetch(\`/admin/approve/\${id}\`, { method: 'POST' });
      loadPending();
    }
    window.onload = loadPending;
  </script>
</body>
</html>

